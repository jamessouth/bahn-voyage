let user_min_len = 3
let user_max_len = 12

@react.component
let make = () => {
  let (username, setUsername) = React.Uncurried.useState(_ => "")
  let (canEnter, setCanEnter) = React.Uncurried.useState(_ => false)

  React.useEffect(() => {
    None
  }, [username])

  let on_Click = () => {
    switch (
      String.length(username) < user_min_len || String.length(username) > user_max_len,
      String.match(username, %re("/\W/")),
    ) {
    | (false, None) => setCanEnter(_ => true)

    | (true, _) | (false, Some(_)) => ()
    }
  }
  <>
    <svg
      width="256"
      height="82.987"
      version="1.1"
      viewBox="0 0 64.001 20.747"
      xmlns="http://www.w3.org/2000/svg">
      <path
        d="m14.572 17.073 0.03087-0.33961v-0.55572q0-2.192-1.0188-4.1988-1.0497-2.0377-2.0685-2.5625-1.0497-0.5866-1.1423-0.95708 0.24699-0.24699 1.6363-0.95708 1.4511-0.80271 1.4511-1.8833 0-0.49398-0.5866-1.7907-0.55572-1.3276-0.55572-1.7289 0.030873-0.24699 0.12349-0.52485 0.12349-0.27786 0.27786-0.5866 0.15437-0.33961-0.18524-0.64834-0.30874-0.33961-0.83358-0.33961h-11.3l-0.18524 0.092621-0.18524 0.12349-0.030874 0.27786q0.092621 0.37048 0.43223 0.77184 0.49398 0.43223 0.71009 1.0188 0.12349 0.24699 0.24699 0.74096 0.12349 0.4631 0.18524 1.1114 0.092621 0.61747 0.12349 1.3584 0.061747 0.71009 0.061747 1.4511l-0.061747 1.4202-0.030874 2.2538 0.061747 2.3773 0.061747 2.3773-0.030874 1.5128-0.12349 1.2041q-0.15437 0.67922-0.61747 1.1732-0.4631 0.52485-0.4631 0.9262l0.061747 0.06175 0.09262 0.24699q0.061747 0.06175 0.12349 0.12349 0.061747 0.03087 0.12349 0.09262 0.030874 0.03087 0.09262 0.03087h10.188q1.2041 0 2.1611-1.1423 0.98795-1.1732 1.1732-2.5316zm-4.7236-12.843q-0.24699 1.3584-1.9759 2.3155-1.7907 0.98795-1.9142 1.2041l-0.55572 0.64834q-0.27786 0.061747-0.27786-0.12349l-0.12349-0.52485-0.12349-0.83358-0.061747-0.89533q0-1.2658 0.49398-2.2846 0.43223-0.61747 0.95708-0.89533 0.55572-0.27786 1.2349-0.43223l1.0497 0.09262q0.30874 0.061747 0.49398 0.15437 0.21611 0.09262 0.33961 0.15437 0.4631 0.71009 0.4631 1.4202zm0.061747 12.874q-0.86446 1.1423-2.1611 1.1423-0.52485 0-1.2658-0.33961-0.71009-0.37048-1.1114-1.3893-0.40136-1.0188-0.40136-2.4699v-0.52485q0.061747-0.24699 0.061747-0.40136v-0.33961q0.27786-1.0188 0.74096-1.8215 0.52485-0.74096 0.98795-0.89533 0.49398-0.18524 0.67922-0.21611 0.18524-0.061747 0.49398-0.061747 0.49398 0 0.98795 0.30873 0.49398 0.27786 0.86446 0.83358 0.40136 0.55572 0.61747 1.3893 0.24699 0.83358 0.24699 1.8833 0 1.698-0.74096 2.9021zm22.383 2.1611q0-1.0188-0.33961-3.0565-0.33961-2.0685-1.0188-5.2485l-1.3584-5.5264q-0.64834-2.3464-1.2967-4.0136-0.061747-0.12349-0.18524-0.27786-0.09262-0.15437-0.21611-0.37048-0.18524-0.24699-0.30874-0.37048-0.40136-0.40136-0.9262-0.40136h-7.9654q-1.1423 0-1.8833 0.64834-0.71009 0.61747-0.71009 1.5745 0 0.52485 0.52485 1.1423 0.5866 0.52485 1.0497 0.52485 0.21611-0.061747 0.24699-0.15437l-0.12349-0.52485q-0.12349-0.37048-0.12349-0.80271 0.03087-0.37048 0.33961-0.61747 0.30874-0.24699 0.61747-0.24699 0.64834 0 0.9262 0.4631 0.33961 0.43223 0.33961 1.2041 0 0.49398-0.30874 1.8524l-0.77184 3.1491-0.9262 3.5196-0.67922 2.8404q-0.55572 2.5934-0.55572 5.0941 0.06175 0.37048 0.49398 0.71009 0.5866 0.37048 1.1732 0.37048h4.9398q0.49398 0 0.49398-0.4631l-2.6242-2.4699q-1.1732-1.4511-1.1732-3.9518 0-2.5316 1.4511-3.8901 1.4819-1.3893 3.4887-1.3893 1.698 0 2.5316 2.0685 0.86446 2.0068 0.86446 4.384 0 2.0994-0.83358 3.3035-0.43223 0.67922-0.83358 1.1732-0.37048 0.4631-0.83358 0.9262 0.09262 0.30874 0.52485 0.30874h5.0015q0.43223-0.09262 0.71009-0.4631 0.27786-0.37048 0.27786-1.0188zm-5.7116-14.047q0 0.52485-0.21612 0.64834-0.18524 0.09262-1.1114 0.09262-0.86446 0-1.7289 0.4631l-1.7598 0.98795q-0.27786-0.09262-0.27786-0.77184 0-1.2967 0.98795-2.7477 1.1114-1.3893 1.8833-1.3893 0.86446 0 1.5437 0.86446 0.67922 0.86446 0.67922 1.8524zm21.704-4.5075q0.12349-0.37048 0-0.4631l-0.24699-0.18524-0.12349-0.061747h-4.9089q-0.15437 0.061747-0.24699 0.30874l0.03087 0.43223q0.9262 1.1114 1.1114 2.2846 0.27786 1.2967 0.27786 2.9947v1.5437q-0.18524 0.21611-0.37048 0.21611-0.27786 0-0.64834-0.37048-0.33961-0.40136-0.74096-0.49398-0.37048-0.12349-0.89533-0.12349-1.7289 0-2.9021 1.3584l-0.21611-0.030874-0.15437-0.21611-0.06175-1.2658-0.06175-1.7907q0-1.1114 0.30874-2.2229 0.37048-1.0806 0.74096-1.4511 0.37048-0.40136 0.37048-0.64834 0-0.52485-0.43223-0.52485h-4.9089q-0.40136 0-0.40136 0.55572l0.24699 0.49398q0.27786 0.27786 0.49398 0.77184 0.24699 0.4631 0.33961 0.98795l0.03087 3.5196 0.03087 3.3961 0.03087 7.07q0 0.77184-0.30874 1.6672-0.15437 0.52485-0.30874 0.71009l-0.33961 0.4631q-0.37048 0.4631-0.37048 0.71009 0 0.40136 0.27786 0.40136h5.0633q0.40136-0.03087 0.40136-0.30874-0.06175-0.33961-0.24699-0.64834-0.18524-0.33961-0.40136-0.71009-0.18524-0.40136-0.37048-0.89533-0.15437-0.49398-0.15437-1.1732l-0.09262-2.2229v-1.0806l0.03087-1.1114v-0.27786t0.24699-0.18524l0.67922 0.4631q0.37048 0.18524 0.5866 0.18524 0.21612 0 0.4631-0.18524 0.06175-0.18524-0.12349-0.52485-0.15437-0.33961-0.15437-0.64834 0-0.52485 0.18524-0.89533 0.21612-0.40136 0.4631-0.64834 0.24699-0.24699 0.52485-0.33961 0.30874-0.092621 0.49398-0.030874 0.71009 0 1.3584 0.37048 0.4631 0.30873 0.71009 0.89533 0.27786 0.5866 0.40136 1.2658t0.15437 1.3893q0.03087 0.71009 0.03087 1.2658 0 0.89533-0.18524 2.0377l-0.27786 1.4511-0.55572 0.98795-0.30874 0.52485-0.12349 0.30874 0.06175 0.4631q0.09262 0.18524 0.27786 0.27786h4.6002q0.33961-0.061749 0.33961-0.21611 0.06175-0.24699 0.06175-0.61747-0.06175-0.27786-0.4631-0.83358-0.40136-0.5866-0.40136-1.2041v-11.979l0.06175-1.5745 0.15437-1.3584q0.27787-1.3893 0.86446-2.2538zm15.529-0.30874-1.0497-0.18524-1.0188-0.030874q-0.37048-0.061747-0.67922-0.061747-0.27786 0-0.55572 0h-1.2658l-0.15437 0.09262-0.18524 0.15437q-0.09262 0.27786 0 0.55572 0.52485 0.43223 0.80271 0.80271 0.33961 0.30874 0.52485 0.9262l0.27786 1.9142q0.03087 0.12349 0.03087 0.27786 0.03087 0.15437 0.09262 0.40136v0.9262l0.06175 1.9142 0.06175 2.1611-0.03087 2.3155v2.2846l-0.18524 0.33961q-0.06175-0.06175-0.09262-0.09262 0-0.03087-0.03087-0.06175-0.18524-0.21611-0.24699-0.49398l-0.67923-2.1303-2.3773-8.4902-0.9262-2.192q-0.55572-1.3276-1.945-1.6054l-1.1423-0.030874-1.8215-0.061747h-0.4631l-0.52485 0.030874q-0.43223 0.24699-0.33961 0.67922l0.64834 0.83358q0.4631 0.55572 0.55572 1.6054 0.15437 0.83358 0.18524 1.1423 0.03087 0.18524 0.03087 0.49398 0.03087 0.30874 0.03087 0.74096 0 0.061747 0 0.21611 0.03087 0.12349 0.06175 0.27786v1.0188l0.03087 1.7907-0.06174 3.3343-0.03087 3.3035q-0.15437 0.77184-0.30874 1.5437-0.12349 0.77184-0.18524 1.0497-0.37048 1.0806-1.0497 1.7598l-0.09262 0.27786q0.09262 0.40136 0.33961 0.49398l2.5625 0.03087 2.5934 0.03087 0.30874-0.15437 0.03087-0.27786q-0.09262-0.37048-0.43223-0.61747l-0.89533-0.71009q-0.43223-0.49397-0.64834-1.0497l-0.37048-1.7289-0.09262-1.2658-0.09262-3.427 0.06174-4.9398-0.03087-0.37048-0.03087-0.43223 0.09262-0.77184q0.09262-0.43223 0.27786-0.71009 0.18524-0.09262 0.37048 0.09262l0.24699 0.24699q0.21612 0.4631 1.5745 5.8968 1.3584 5.4646 2.0377 7.1935l0.86446 1.8833q0.55572 0.95708 1.3584 1.2041l0.43223-0.03087h0.77184l1.0188 0.03087h1.0188q0.55572 0 0.4631-0.55572-0.15437-0.21611-0.30874-0.43223-0.12349-0.21611-0.21611-0.4631l-0.27786-1.0188-0.24699-1.698-0.03087-1.2967-0.03087-1.5745-0.03087-1.6363v-1.8833l0.03087-1.8833q0-1.945 0.15437-3.6122 0.18524-1.698 0.74096-2.9021 0.09262-0.24699 0.33961-0.49398 0.27786-0.37048 0.27786-0.55572 0-0.15437-0.18524-0.33961z"
        stroke="#040306"
        strokeWidth=".4824"
        ariaLabel="BAHN"
      />
      <defs>
        <linearGradient id="skyGradient" x1="100%" y1="100%">
          <animate
            attributeName="x1"
            values="-1.25;-0.5;0;.5;1;.5;0;-0.5;-1.25"
            dur="5s"
            repeatCount="indefinite"
          />
          <animate
            attributeName="y1"
            values="1.5;1;.5;0;-0.5;-1;-0.5;0;.5;1;1.5"
            dur="7s"
            repeatCount="indefinite"
          />
          <stop offset="20%" stopColor="#edddbb" stopOpacity=".85">
            <animate
              attributeName="stop-color"
              values="#9b3915;#dd850d;#8b6a3b;#243b26;#343635;#edddbb;#628580;#9b3915;"
              dur="19s"
              repeatCount="indefinite"
            />
          </stop>
          <stop offset="80%" stopColor="#628580" stopOpacity=".8">
            <animate
              attributeName="stop-color"
              values="#343635;#628580;#edddbb;#dd850d;#243b26;#8b6a3b;#9b3915;#343635"
              dur="17s"
              repeatCount="indefinite"
            />
          </stop>
        </linearGradient>
      </defs>
    </svg>
    // <div>
    //   <svg className="w-0 h-0 absolute">
    //     <defs>
    //       <clipPath
    //         id="clip-00"
    //         clipPathUnits="objectBoundingBox"
    //         transform="scale(0.003125, 0.00555555555555555555)">

    //       </clipPath>
    //     </defs>
    //   </svg>
    //   <video
    //     className="block w-full clip"
    //     playsInline=true
    //     autoPlay=true
    //     loop=true
    //     muted=true
    //     poster="/entryMobTall.jpg">
    //     <source src="/passby.mp4" type_="video/mp4" />
    //   </video>
    // </div>
    //   <h1 className="font-amar font-bold text-center text-9xl">
    //     {React.string("BAHN")}
    //     <br />
    //     {React.string("VOYAGE")}
    //   </h1>
    {switch canEnter {
    | true => <Lobby />
    | false =>
      <Form on_Click>
        <Input value=username setFunc=setUsername />
      </Form>
    }}
  </>
}
